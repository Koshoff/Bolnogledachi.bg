{% extends "fragments/base.html" %}

{% load static %}

{% block title %}–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —Ñ–æ—Ä–º–∞ | –ë–æ–ª–Ω–æ–≥–ª–µ–¥–∞—á–∏.–±–≥{% endblock %}

{% block content %}

<style>
  .hero-contact {
    min-height: 40vh; /* –ø–æ-–º–∞–ª–∫–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ */
    background: linear-gradient(
                to right, 
                rgba(0, 0, 0, 0.4), 
                rgba(0, 0, 0, 0.2)
              ), 
              url("{% static 'css/images/caregiver.jpg' %}") no-repeat center center/cover;
    display: flex;
    align-items: flex-end;   /* —Ç–µ–∫—Å—Ç—ä—Ç –¥–æ–ª—É */
    justify-content: flex-start; /* –≤–ª—è–≤–æ */
    padding: 40px; /* –æ—Ç—Å—Ç–æ—è–Ω–∏–µ –∑–∞ —Ç–µ–∫—Å—Ç–∞ */
    color: white;
  }

    .hero-contact h1 {
    font-size: 3rem;
    font-family: 'Oswald', sans-serif;
    margin: 0;
    color: white;
  }

      

  .contact-wrapper {
    display: flex;
    gap: 30px;
    max-width: 1200px;
    margin: 50px auto;
    align-items: flex-start;
    align-items: stretch;
  }

  /* –§–æ—Ä–º–∞—Ç–∞ –µ 2 –∫–æ–ª–æ–Ω–∏ –≤—ä—Ç—Ä–µ */
  .contact-form {
    display: flex;
    flex-direction: column;
    gap: 20px;
    flex: 2;
    background: #eef5fb;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  }

  .form-container {
    display: flex;
    gap: 20px;
    margin-bottom: 2rem;
  }

  .form-left, 
  .form-right {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 15px;
  }

  .form-right textarea {
    min-height: 100%;
  }

  /* –ü–æ–ª–µ—Ç–∞ */
  .contact-form input,
  .contact-form select,
  .contact-form textarea {
    padding: 12px;
    border: 1px solid #ccc;
    border-radius: 6px;
    font-size: 1rem;
    font-family: "Quattrocento Sans", sans-serif;
    transition: border-color 0.3s;
  }

  .contact-form input:focus,
  .contact-form select:focus,
  .contact-form textarea:focus {
    border-color: #007bff;
    outline: none;
  }

  /* –ë—É—Ç–æ–Ω */
  .form-submit {
    margin-top: 10px;
    display: flex;
    justify-content: space-around;
  }

  .form-submit button {
    padding: 12px 25px;
    background: #007bff;
    color: white;
    border: none;
    border-radius: 6px;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .form-submit button:hover {
    background: #0056b3;
  }

  /* –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤–¥—è—Å–Ω–æ */
  .contact-info {
    flex: 1;
    background: #eef5fb;
    padding: 25px;
    border-radius: 10px;
    line-height: 1.6;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  }

  .map {
      max-width: 1200px;
      margin: 50px auto;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      border-radius: 10px;
      overflow: hidden;
  }

  @media (max-width: 768px) {

    /* Contact Wrapper */
    .contact-wrapper {
      display: flex;
      flex-direction: column;
      gap: 2rem;
      padding: 2rem 1rem;
    }

    .contact-form {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      width: 100%;
      order: 1; /* —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞ –µ –ø—ä—Ä–≤–∞ –Ω–∞ –º–æ–±–∏–ª–Ω–æ */
    }

    .form-left,
    .form-right {
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .contact-form input,
    .contact-form select,
    .contact-form textarea,
    .contact-form button {
      width: 100%;
      font-size: 1rem;
      padding: 12px;
      border-radius: 6px;
    }

    .form-submit {
      gap: 10px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items:center;
    }

    

    .contact-info {
      text-align: center;
      order: 2;
      /* –∏–Ω—Ñ–æ—Ç–æ –æ—Ç–∏–≤–∞ —Å–ª–µ–¥ —Ñ–æ—Ä–º–∞—Ç–∞ */
    }

    .contact-info h2 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }

    .contact-info p {
      font-size: 1rem;
      margin: 0.3rem 0;
    }

    /* About Grid */
    .about-grid {
      grid-template-columns: 1fr; /* —Å–∞–º–æ –µ–¥–Ω–∞ –∫–æ–ª–æ–Ω–∞ */
      gap: 2rem;
      padding: 2rem 1rem;
    }

    .about-text {
      padding: 0;
      font-size: 1rem;
      line-height: 1.6;
      text-align: center;
    }

    .about-image {
      order: -1; /* —Å–Ω–∏–º–∫–∞—Ç–∞ –¥–∞ –∏–∑–ª–∏–∑–∞ –ø—Ä–µ–¥–∏ —Ç–µ–∫—Å—Ç–∞ */
    }

    .about-image img {
      width: 100%;
      max-height: 300px;
      object-fit: cover;
    }
  }

  @media (max-width: 768px) {
    .map {
      margin: 20px 10px;   /* –ø–æ-–º–∞–ª–∫–∏ –≤—ä–Ω—à–Ω–∏ —Ä–∞–∑—Å—Ç–æ—è–Ω–∏—è */
      border-radius: 8px;  /* –ª–µ–∫–æ –∑–∞–æ–±–ª—è–Ω–µ */
      box-shadow: 0 2px 8px rgba(0,0,0,0.08); /* –ø–æ-–ª–µ–∫–∞ —Å—è–Ω–∫–∞ */
    }

    .map iframe {
      width: 100%;
      height: 250px; /* –ø–æ-–Ω–∏—Å–∫–∞ –≤–∏—Å–æ—á–∏–Ω–∞ –∑–∞ –º–æ–±–∏–ª–Ω–∏ */
      border: none;
    }
  }


  .contact-form {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
}

.form-left, .form-right {
  flex: 1;
  min-width: 250px;
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.input-field, .textarea-field, select {
  width: 100%;
  padding: 12px;
  border: 1px solid #ccc;
  border-radius: 6px;
  font-size: 15px;
}

.form-submit {
  margin-top: 15px;
}

button {
  padding: 12px 25px;
  background: #2c7a7b;
  border: none;
  color: #fff;
  border-radius: 6px;
  cursor: pointer;
}
button:hover {
  background: #225e5f;
}
</style>

<!-- Hero Section -->
{% load static %}

<section class="hero-contact">
    <h1>–ö–æ–Ω—Ç–∞–∫—Ç–∏</h1>
</section>



<!-- Contact Form + Info -->
<div class="contact-wrapper">

    <!-- Contact Form -->
    {% if messages %}
      {% for m in messages %}
        <div class="message {{ m.tags }}">{{ m }}</div>
      {% endfor %}
    {% endif %}

     <form method="post" action="{% url 'contact_form' %}" class="contact-form">
    {% csrf_token %}
    {{ form.honeypot }}

    <div class="form-container">
        <div class="form-left">
            {{ form.name.errors }}
            {{ form.name }}

            {{ form.email.errors }}
            {{ form.email }}

            {{ form.phone.errors }}
            {{ form.phone }}

            {{ form.service.errors }}
            {{ form.service }}
        </div>

        <div class="form-right">
            {{ form.message.errors }}
            {{ form.message }}
            <div class="form-submit">
                <button type="submit">–ò–∑–ø—Ä–∞—Ç–∏</button>
            </div>
        </div>
    </div>

    {% if form.recaptcha %}
      <div class="recaptcha">
        {{ form.recaptcha.errors }}
        {{ form.recaptcha }}
      </div>
    {% endif %}
</form>

    {% comment %} <form class="contact-form" method="post" action="{% url 'contact_form' %}">
                {% csrf_token %}
                 <div class="form-container">
                    <div class="form-left">
                        <input type="text" name="name" placeholder="–ò–º–µ –∏ —Ñ–∞–º–∏–ª–∏—è (–∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ)" required>
                        <input type="email" name="email" placeholder="E-mail (–∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ)" required>
                        <input type="tel" name="phone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω (–∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ)" required>

                        <select name="service">
                            <option>–ë–æ–ª–Ω–æ–≥–ª–µ–¥–∞—á –∑–∞ –¥–æ–º–∞</option>
                            <option>–ë–æ–ª–Ω–æ–≥–ª–µ–¥–∞—á –∑–∞ –±–æ–ª–Ω–∏—Ü–∞</option>
                            <option>–ë–æ–ª–Ω–æ–≥–ª–µ–¥–∞—á 24/7</option>
                        </select>
                    </div>

                    <div class="form-right">
                        <textarea name="message" rows="8" placeholder="–í–∞—à–µ—Ç–æ —Å—ä–æ–±—â–µ–Ω–∏–µ (–∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ)" required></textarea>
                        <div class="form-submit">
                            <button type="submit">–ò–∑–ø—Ä–∞—Ç–∏</button>
                        </div>
                    </div>
                    </div>
            </form> {% endcomment %}

    <!-- Contact Info -->
    <div class="contact-info">
        <h2>–ù–∏–µ —Å–º–µ –¥–æ –≤–∞—Å</h2>
        <p><strong>–†–∞–±–æ—Ç–Ω–æ –≤—Ä–µ–º–µ:</strong><br> –ü–æ–Ω–µ–¥–µ–ª–Ω–∏–∫ - –ù–µ–¥–µ–ª—è 07:00 - 19:00</p>
        <p>üìû 08XXXXXXXX</p>
        <p>üìß contact@bolnogledachi.bg</p>
        <p>üìç –≥—Ä. –°–æ—Ñ–∏—è, –∫–≤. –ö–∏–Ω–æ—Ü–µ–Ω—Ç—ä—Ä, —É–ª. 206 –Ω–æ–º–µ—Ä 10</p>
        <p><em>–°—Ä–µ—â–∏ –≤ –æ—Ñ–∏—Å–∞ —Å–ª–µ–¥ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª–Ω–æ —É–≥–æ–≤–æ—Ä–µ–Ω —á–∞—Å.</em></p>
    </div>

</div>

<!-- Google Maps -->
<div class="map">
    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2935.352585720258!2d23.293039976216818!3d42.63268471783412!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x40aa8384c4ba5309%3A0xa46e397e41c99e8f!2z0LIu0LcuINCa0LjQvdC-0YbQtdC90YLRitGA0LDQktC40YLQvtGI0LAsINGD0LsuIOKAnjIwNuKAnCAxMCwgMTQxNSDQodC-0YTQuNGP!5e0!3m2!1sbg!2sbg!4v1757594558757!5m2!1sbg!2sbg"
     width="100%" height="350" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
</div>

<script>
console.log("My script loaded"); // –≤–∏–∂ –≤ –∫–æ–Ω–∑–æ–ª–∞—Ç–∞

const navContainer = document.querySelector('.nav-container');

navContainer.addEventListener('click', (e) => {
    const clickedLink = e.target.closest('.nav-link');
    if (!clickedLink) return;

    const currentActive = navContainer.querySelector('.nav-link.active');
    if (currentActive) currentActive.classList.remove('active');

    clickedLink.classList.add('active');
    console.log("Active added to:", clickedLink.textContent.trim());
});
</script>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const navLinks = document.querySelectorAll('.nav-link');
    const currentPath = window.location.pathname.split("/").pop();

    navLinks.forEach(link => {
        const linkPath = link.getAttribute('href');
        if (linkPath === currentPath) {
            link.classList.add('active'); // —Ä–∞–º–∫–∏—Ç–µ –æ—Å—Ç–∞–≤–∞—Ç –≤–∏–¥–∏–º–∏
        }
    });
});

</script>

<script>
    const burger = document.querySelector(".burger");
    const nav = document.querySelector(".nav-container");

    burger.addEventListener("click", () => {
        nav.classList.toggle("active");
        burger.classList.toggle("open");
    });
</script>

{% endblock %}